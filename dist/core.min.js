var Core=function(){function a(){return a.constructor.apply(this,arguments);}return a.constructor=function(){},a.VERSION='0.4.0',a;}();(function(a){a.slice=Array.prototype.slice,a.hasProp=a.hasOwnProperty=Object.prototype.hasOwnProperty,a.indexOf=Array.prototype.indexOf,a.bind=function(a,b){return Function.prototype.bind.apply(a,slice.call(arguments,1));},a.extend=function(b){return a.slice.call(arguments,1).forEach(function(a){for(key in a)b[key]=a[key];}),b;},a.ext=function(){a.extend.apply(this,[this].concat(a.slice.call(arguments)));},a.inherit=function(b,c){function e(){this.constructor=b;}for(var d in c)a.hasProp.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e(),b.__super__=c.prototype,b;},a.ns=function(c,e){var b,d;for(a.m||(a.m={}),module={scopes:c,exports:{}},e(module,module.exports),b=0,d=c.length;b<d;b++)a.m[c[b]]=module;return module.exports;},a.require=function(b){return a.m[b].exports;};}(Core));var $=Core;var require=$.require;$.ns(['underscore'],function(a,b){(function(){var n=this;var M=n._;var i={};var f=Array.prototype,w=Object.prototype,J=Function.prototype;var q=f.push,d=f.slice,j=f.concat,g=w.toString,I=w.hasOwnProperty;var x=f.forEach,z=f.map,A=f.reduce,B=f.reduceRight,E=f.filter,t=f.every,u=f.some,k=f.indexOf,v=f.lastIndexOf,H=Array.isArray,G=Object.keys,p=J.bind;var c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this._wrapped=a;};b!==void 0?(a!==void 0&&a.exports&&(b=a.exports=c),b._=c):n._=c,c.VERSION='1.4.3';var e=c.each=c.forEach=function(a,e,f){if(a==null)return;if(x&&a.forEach===x)a.forEach(e,f);else if(a.length===+a.length){for(var b=0,g=a.length;b<g;b++)if(e.call(f,a[b],b,a)===i)return;}else for(var d in a)if(c.has(a,d)&&e.call(f,a[d],d,a)===i)return;};c.map=c.collect=function(b,c,d){var a=[];return b==null?a:z&&b.map===z?b.map(c,d):(e(b,function(b,e,f){a[a.length]=c.call(d,b,e,f);}),a);};var C='Reduce of empty array with no initial value';c.reduce=c.foldl=c.inject=function(a,b,d,g){var f=arguments.length>2;a==null&&(a=[]);if(A&&a.reduce===A)return g&&(b=c.bind(b,g)),f?a.reduce(b,d):a.reduce(b);e(a,function(a,c,e){f?d=b.call(g,d,a,c,e):(d=a,f=!0);});if(!f)throw new TypeError(C);return d;},c.reduceRight=c.foldr=function(a,d,f,i){var g=arguments.length>2;a==null&&(a=[]);if(B&&a.reduceRight===B)return i&&(d=c.bind(d,i)),g?a.reduceRight(d,f):a.reduceRight(d);var b=a.length;if(b!==+b){var h=c.keys(a);b=h.length;}e(a,function(j,c,e){c=h?h[--b]:--b,g?f=d.call(i,f,a[c],c,e):(f=a[c],g=!0);});if(!g)throw new TypeError(C);return f;},c.find=c.detect=function(b,c,d){var a;return D(b,function(b,e,f){return c.call(d,b,e,f)?(a=b,!0):void 0;}),a;},c.filter=c.select=function(b,c,d){var a=[];return b==null?a:E&&b.filter===E?b.filter(c,d):(e(b,function(b,e,f){c.call(d,b,e,f)&&(a[a.length]=b);}),a);},c.reject=function(b,d,a){return c.filter(b,function(b,c,e){return!d.call(a,b,c,e);},a);},c.every=c.all=function(b,d,f){d||(d=c.identity);var a=!0;return b==null?a:t&&b.every===t?b.every(d,f):(e(b,function(b,c,e){return(a=a&&d.call(f,b,c,e))?void 0:i;}),!!a);};var D=c.some=c.any=function(b,d,f){d||(d=c.identity);var a=!1;return b==null?a:u&&b.some===u?b.some(d,f):(e(b,function(b,c,e){return a||(a=d.call(f,b,c,e))?i:void 0;}),!!a);};c.contains=c.include=function(a,b){return a==null?!1:k&&a.indexOf===k?a.indexOf(b)!=-1:D(a,function(a){return a===b;});},c.invoke=function(e,a){var b=d.call(arguments,2);return c.map(e,function(d){return(c.isFunction(a)?a:d[a]).apply(d,b);});},c.pluck=function(a,b){return c.map(a,function(a){return a[b];});},c.where=function(b,a){return c.isEmpty(a)?[]:c.filter(b,function(c){for(var b in a)if(a[b]!==c[b])return!1;return!0;});},c.max=function(a,b,f){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&c.isEmpty(a))return-Infinity;var d={computed:-Infinity,value:-Infinity};return e(a,function(a,e,g){var c=b?b.call(f,a,e,g):a;c>=d.computed&&(d={value:a,computed:c});}),d.value;},c.min=function(a,b,f){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&c.isEmpty(a))return Infinity;var d={computed:Infinity,value:Infinity};return e(a,function(a,e,g){var c=b?b.call(f,a,e,g):a;c<d.computed&&(d={value:a,computed:c});}),d.value;},c.shuffle=function(f){var b;var d=0;var a=[];return e(f,function(e){b=c.random(d++),a[d-1]=a[b],a[b]=e;}),a;};var s=function(a){return c.isFunction(a)?a:function(b){return b[a];};};c.sortBy=function(b,d,e){var a=s(d);return c.pluck(c.map(b,function(b,c,d){return{value:b,index:c,criteria:a.call(e,b,c,d)};}).sort(function(c,d){var a=c.criteria;var b=d.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1;}return c.index<d.index?-1:1;}),'value');};var F=function(b,f,g,h){var a={};var d=s(f||c.identity);return e(b,function(c,f){var e=d.call(g,c,f,b);h(a,e,c);}),a;};c.groupBy=function(a,b,d){return F(a,b,d,function(a,b,d){(c.has(a,b)?a[b]:a[b]=[]).push(d);});},c.countBy=function(a,b,d){return F(a,b,d,function(a,b){c.has(a,b)||(a[b]=0),a[b]++;});},c.sortedIndex=function(f,i,a,g){a=a==null?c.identity:s(a);var h=a.call(g,i);var b=0,d=f.length;while(b<d){var e=b+d>>>1;a.call(g,f[e])<h?b=e+1:d=e;}return b;},c.toArray=function(a){return a?c.isArray(a)?d.call(a):a.length===+a.length?c.map(a,c.identity):c.values(a):[];},c.size=function(a){return a==null?0:a.length===+a.length?a.length:c.keys(a).length;},c.first=c.head=c.take=function(a,b,c){return a==null?void 0:b!=null&&!c?d.call(a,0,b):a[0];},c.initial=function(a,b,c){return d.call(a,0,a.length-(b==null||c?1:b));},c.last=function(a,b,c){return a==null?void 0:b!=null&&!c?d.call(a,Math.max(a.length-b,0)):a[a.length-1];},c.rest=c.tail=c.drop=function(b,a,c){return d.call(b,a==null||c?1:a);},c.compact=function(a){return c.filter(a,c.identity);};var y=function(d,b,a){return e(d,function(d){c.isArray(d)?b?q.apply(a,d):y(d,b,a):a.push(d);}),a;};c.flatten=function(a,b){return y(a,b,[]);},c.without=function(a){return c.difference(a,d.call(arguments,1));},c.uniq=c.unique=function(f,b,d,h){c.isFunction(b)&&(h=d,d=b,b=!1);var i=d?c.map(f,d,h):f;var g=[];var a=[];return e(i,function(d,e){(b?!e||a[a.length-1]!==d:!c.contains(a,d))&&(a.push(d),g.push(f[e]));}),g;},c.union=function(){return c.uniq(j.apply(f,arguments));},c.intersection=function(b){var a=d.call(arguments,1);return c.filter(c.uniq(b),function(b){return c.every(a,function(a){return c.indexOf(a,b)>=0;});});},c.difference=function(b){var a=j.apply(f,d.call(arguments,1));return c.filter(b,function(b){return!c.contains(a,b);});},c.zip=function(){var b=d.call(arguments);var e=c.max(c.pluck(b,'length'));var f=new Array(e);for(var a=0;a<e;a++)f[a]=c.pluck(b,''+a);return f;},c.object=function(b,d){if(b==null)return{};var c={};for(var a=0,e=b.length;a<e;a++)d?c[b[a]]=d[a]:c[b[a][0]]=b[a][1];return c;},c.indexOf=function(b,e,d){if(b==null)return-1;var a=0,f=b.length;if(d)if(typeof d=='number')a=d<0?Math.max(0,f+d):d;else return a=c.sortedIndex(b,e),b[a]===e?a:-1;if(k&&b.indexOf===k)return b.indexOf(e,d);for(;a<f;a++)if(b[a]===e)return a;return-1;},c.lastIndexOf=function(a,c,d){if(a==null)return-1;var e=d!=null;if(v&&a.lastIndexOf===v)return e?a.lastIndexOf(c,d):a.lastIndexOf(c);var b=e?d:a.length;while(b--)if(a[b]===c)return b;return-1;},c.range=function(a,f,b){arguments.length<=1&&(f=a||0,a=0),b=arguments[2]||1;var c=Math.max(Math.ceil((f-a)/b),0);var d=0;var e=new Array(c);while(d<c)e[d++]=a,a+=b;return e;};var o=function(){};c.bind=function(a,f){var b,e;if(a.bind===p&&p)return p.apply(a,d.call(arguments,1));if(!c.isFunction(a))throw new TypeError();return b=d.call(arguments,2),e=function(){if(!(this instanceof e))return a.apply(f,b.concat(d.call(arguments)));o.prototype=a.prototype;var g=new o();o.prototype=null;var c=a.apply(g,b.concat(d.call(arguments)));return Object(c)===c?c:g;};},c.bindAll=function(a){var b=d.call(arguments,1);return b.length==0&&(b=c.functions(a)),e(b,function(b){a[b]=c.bind(a[b],a);}),a;},c.memoize=function(d,b){var a={};return b||(b=c.identity),function(){var e=b.apply(this,arguments);return c.has(a,e)?a[e]:a[e]=d.apply(this,arguments);};},c.delay=function(b,c){var a=d.call(arguments,2);return setTimeout(function(){return b.apply(null,a);},c);},c.defer=function(a){return c.delay.apply(c,[a,1].concat(d.call(arguments,1)));},c.throttle=function(f,h){var c,d,a,e;var b=0;var g=function(){b=new Date(),a=null,e=f.apply(c,d);};return function(){var i=new Date();var j=h-(i-b);return c=this,d=arguments,j<=0?(clearTimeout(a),a=null,b=i,e=f.apply(c,d)):a||(a=setTimeout(g,j)),e;};},c.debounce=function(c,e,d){var a,b;return function(){var f=this,g=arguments;var h=function(){a=null,d||(b=c.apply(f,g));};var i=d&&!a;return clearTimeout(a),a=setTimeout(h,e),i&&(b=c.apply(f,g)),b;};},c.once=function(c){var a=!1,b;return function(){return a?b:(a=!0,b=c.apply(this,arguments),c=null,b);};},c.wrap=function(a,b){return function(){var c=[a];return q.apply(c,arguments),b.apply(this,c);};},c.compose=function(){var a=arguments;return function(){var b=arguments;for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0];};},c.after=function(a,b){return a<=0?b():function(){return--a<1?b.apply(this,arguments):void 0;};},c.keys=G||function(a){if(a!==Object(a))throw new TypeError('Invalid object');var b=[];for(var d in a)c.has(a,d)&&(b[b.length]=d);return b;},c.values=function(a){var b=[];for(var d in a)c.has(a,d)&&b.push(a[d]);return b;},c.pairs=function(b){var d=[];for(var a in b)c.has(b,a)&&d.push([a,b[a]]);return d;},c.invert=function(b){var d={};for(var a in b)c.has(b,a)&&(d[b[a]]=a);return d;},c.functions=c.methods=function(d){var a=[];for(var b in d)c.isFunction(d[b])&&a.push(b);return a.sort();},c.extend=function(a){return e(d.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c];}),a;},c.pick=function(b){var a={};var c=j.apply(f,d.call(arguments,1));return e(c,function(c){c in b&&(a[c]=b[c]);}),a;},c.omit=function(e){var b={};var g=j.apply(f,d.call(arguments,1));for(var a in e)c.contains(g,a)||(b[a]=e[a]);return b;},c.defaults=function(a){return e(d.call(arguments,1),function(c){if(c)for(var b in c)a[b]==null&&(a[b]=c[b]);}),a;},c.clone=function(a){return c.isObject(a)?c.isArray(a)?a.slice():c.extend({},a):a;},c.tap=function(a,b){return b(a),a;};var l=function(a,b,h,i){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a instanceof c&&(a=a._wrapped),b instanceof c&&(b=b._wrapped);var m=g.call(a);if(m!=g.call(b))return!1;switch(m){case'[object String]':return a==String(b);case'[object Number]':return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case'[object Date]':case'[object Boolean]':return+a==+b;case'[object RegExp]':return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase;}if(typeof a!='object'||typeof b!='object')return!1;var n=h.length;while(n--)if(h[n]==a)return i[n]==b;h.push(a),i.push(b);var d=0,e=!0;if(m=='[object Array]'){d=a.length,e=d==b.length;if(e)while(d--)if(!(e=l(a[d],b[d],h,i)))break;}else{var j=a.constructor,k=b.constructor;if(j!==k&&!(c.isFunction(j)&&j instanceof j&&c.isFunction(k)&&k instanceof k))return!1;for(var f in a)if(c.has(a,f)){d++;if(!(e=c.has(b,f)&&l(a[f],b[f],h,i)))break;}if(e){for(f in b)if(c.has(b,f)&&!d--)break;e=!d;}}return h.pop(),i.pop(),e;};c.isEqual=function(a,b){return l(a,b,[],[]);},c.isEmpty=function(a){if(a==null)return!0;if(c.isArray(a)||c.isString(a))return a.length===0;for(var b in a)if(c.has(a,b))return!1;return!0;},c.isElement=function(a){return!!(a&&a.nodeType===1);},c.isArray=H||function(a){return g.call(a)=='[object Array]';},c.isObject=function(a){return a===Object(a);},e(['Arguments','Function','String','Number','Date','RegExp'],function(a){c['is'+a]=function(b){return g.call(b)=='[object '+a+']';};}),c.isArguments(arguments)||(c.isArguments=function(a){return!!(a&&c.has(a,'callee'));}),!0&&(c.isFunction=function(a){return typeof a==='function';}),c.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a));},c.isNaN=function(a){return c.isNumber(a)&&a!=+a;},c.isBoolean=function(a){return a===!0||a===!1||g.call(a)=='[object Boolean]';},c.isNull=function(a){return a===null;},c.isUndefined=function(a){return a===void 0;},c.has=function(a,b){return I.call(a,b);},c.noConflict=function(){return n._=M,this;},c.identity=function(a){return a;},c.times=function(c,d,e){var b=Array(c);for(var a=0;a<c;a++)b[a]=d.call(e,a);return b;},c.random=function(a,b){return b==null&&(b=a,a=0),a+(0|Math.random()*(b-a+1));};var h={escape:{'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#x27;','/':'&#x2F;'}};h.unescape=c.invert(h.escape);var K={escape:new RegExp('['+c.keys(h.escape).join('')+']','g'),unescape:new RegExp('('+c.keys(h.unescape).join('|')+')','g')};c.each(['escape','unescape'],function(a){c[a]=function(b){return b==null?'':(''+b).replace(K[a],function(b){return h[a][b];});};}),c.result=function(b,d){if(b==null)return null;var a=b[d];return c.isFunction(a)?a.call(b):a;},c.mixin=function(a){e(c.functions(a),function(b){var d=c[b]=a[b];c.prototype[b]=function(){var a=[this._wrapped];return q.apply(a,arguments),m.call(this,d.apply(c,a));};});};var L=0;c.uniqueId=function(b){var a=''+ ++L;return b?b+a:a;},c.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var r=/(.)^/;var N={'\'':'\'',\:'\\','\r':'r','\n':'n','	':'t','\u2028':'u2028','\u2029':'u2029'};var O=/\\|'|\r|\n|\t|\u2028|\u2029/g;c.template=function(g,h,b){b=c.defaults({},b,c.templateSettings);var i=new RegExp([(b.escape||r).source,(b.interpolate||r).source,(b.evaluate||r).source].join('|')+'|$','g');var d=0;var a='__p+=\'';g.replace(i,function(b,c,e,f,h){return a+=g.slice(d,h).replace(O,function(a){return'\\'+N[a];}),c&&(a+='\'+\n((__t=('+c+'))==null?\'\':_.escape(__t))+\n\''),e&&(a+='\'+\n((__t=('+e+'))==null?\'\':__t)+\n\''),f&&(a+='\';\n'+f+'\n__p+=\''),d=h+b.length,b;}),a+='\';\n',b.variable||(a='with(obj||{}){\n'+a+'}\n'),a='var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\n'+a+'return __p;\n';try{var e=new Function(b.variable||'obj','_',a);}catch(b){throw b.source=a,b;}if(h)return e(h,c);var f=function(a){return e.call(this,a,c);};return f.source='function('+(b.variable||'obj')+'){\n'+a+'}',f;},c.chain=function(a){return c(a).chain();};var m=function(a){return this._chain?c(a).chain():a;};c.mixin(c),e(['pop','push','reverse','shift','sort','splice','unshift'],function(a){var b=f[a];c.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),(a=='shift'||a=='splice')&&c.length===0&&delete c[0],m.call(this,c);};}),e(['concat','join','slice'],function(a){var b=f[a];c.prototype[a]=function(){return m.call(this,b.apply(this._wrapped,arguments));};}),c.extend(c.prototype,{chain:function(){return this._chain=!0,this;},value:function(){return this._wrapped;}});}.call(this));}),function(a){_=require('underscore'),delete _.VERSION,a.ext(_);}(Core),$.ns(['underscore.string'],function(a,b){(function(i,c,p,l,m,n,e,k,f,g,j,o,h,d){'use strict';p=c.prototype.trim,l=c.prototype.trimRight,m=c.prototype.trimLeft,n=function(a){return a*1||0;},e=function(b,a){if(a<1)return'';var c='';while(a>0)a&1&&(c+=b),a>>=1,b+=b;return c;},k=[].slice,f=function(a){return a==null?'\\s':a.source?a.source:'['+d.escapeRegExp(a)+']';},g={lt:'<',gt:'>',quot:'"',amp:'&',apos:'\''},j={};for(o in g)j[g[o]]=o;j['\'']='#39',h=function(d,a){function b(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase();}return d=e,a=function(){return a.cache.hasOwnProperty(arguments[0])||(a.cache[arguments[0]]=a.parse(arguments[0])),a.format.call(null,a.cache[arguments[0]],arguments);},a.format=function(k,l){var m=1,o=k.length,j='',a,i=[],f,g,e,n,q,p;for(f=0;f<o;f++){j=b(k[f]);if(j==='string')i.push(k[f]);else if(j==='array'){e=k[f];if(e[2])for(a=l[m],g=0;g<e[2].length;g++){if(!a.hasOwnProperty(e[2][g]))throw new Error(h('[_.sprintf] property "%s" does not exist',e[2][g]));a=a[e[2][g]];}else e[1]?a=l[e[1]]:a=l[m++];if(/[^s]/.test(e[8])&&b(a)!='number')throw new Error(h('[_.sprintf] expecting number but found %s',b(a)));switch(e[8]){case'b':a=a.toString(2);break;case'c':a=c.fromCharCode(a);break;case'd':a=parseInt(a,10);break;case'e':a=e[7]?a.toExponential(e[7]):a.toExponential();break;case'f':a=e[7]?parseFloat(a).toFixed(e[7]):parseFloat(a);break;case'o':a=a.toString(8);break;case's':a=(a=c(a))&&e[7]?a.substring(0,e[7]):a;break;case'u':a=Math.abs(a);break;case'x':a=a.toString(16);break;case'X':a=a.toString(16).toUpperCase();break;}a=/[def]/.test(e[8])&&e[3]&&a>=0?'+'+a:a,q=e[4]?e[4]=='0'?'0':e[4].charAt(1):' ',p=e[6]-c(a).length,n=e[6]?d(q,p):'',i.push(e[5]?a+n:n+a);}}return i.join('');},a.cache={},a.parse=function(h){var c=h,a=[],e=[],g=0;while(c){if((a=/^[^\x25]+/.exec(c))!==null)e.push(a[0]);else if((a=/^\x25{2}/.exec(c))!==null)e.push('%');else if((a=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(c))!==null){if(a[2]){g|=1;var f=[],d=a[2],b=[];if(!((b=/^([a-z_][a-z_\d]*)/i.exec(d))!==null))throw new Error('[_.sprintf] huh?');{f.push(b[1]);while((d=d.substring(b[0].length))!=='')if((b=/^\.([a-z_][a-z_\d]*)/i.exec(d))!==null)f.push(b[1]);else if((b=/^\[(\d+)\]/.exec(d))!==null)f.push(b[1]);else throw new Error('[_.sprintf] huh?');}a[2]=f;}else g|=2;if(g===3)throw new Error('[_.sprintf] mixing positional and named placeholders is not (yet) supported');e.push(a);}else throw new Error('[_.sprintf] huh?');c=c.substring(a[0].length);}return e;},a;}(),d={VERSION:'2.3.0',isBlank:function(a){return a==null&&(a=''),/^\s*$/.test(a);},stripTags:function(a){return a==null?'':c(a).replace(/<\/?[^>]+>/g,'');},capitalize:function(a){return a=a==null?'':c(a),a.charAt(0).toUpperCase()+a.slice(1);},chop:function(a,b){return a==null?[]:(a=c(a),b=~~b,b>0?a.match(new RegExp('.{1,'+b+'}','g')):[a]);},clean:function(a){return d.strip(a).replace(/\s+/g,' ');},count:function(d,a){if(d==null||a==null)return 0;d=c(d),a=c(a);var e=0,b=0,f=a.length;while(!0){b=d.indexOf(a,b);if(b===-1)break;e++,b+=f;}return e;},chars:function(a){return a==null?[]:c(a).split('');},swapCase:function(a){return a==null?'':c(a).replace(/\S/g,function(a){return a===a.toUpperCase()?a.toLowerCase():a.toUpperCase();});},escapeHTML:function(a){return a==null?'':c(a).replace(/[&<>"']/g,function(a){return'&'+j[a]+';';});},unescapeHTML:function(a){return a==null?'':c(a).replace(/\&([^;]+);/g,function(d,a){var b;return a in g?g[a]:(b=a.match(/^#x([\da-fA-F]+)$/))?c.fromCharCode(parseInt(b[1],16)):(b=a.match(/^#(\d+)$/))?c.fromCharCode(~~b[1]):d;});},escapeRegExp:function(a){return a==null?'':c(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,'\\$1');},splice:function(b,c,e,f){var a=d.chars(b);return a.splice(~~c,~~e,f),a.join('');},insert:function(a,b,c){return d.splice(a,b,0,c);},include:function(a,b){return b===''?!0:a==null?!1:c(a).indexOf(b)!==-1;},join:function(){var b=k.call(arguments),a=b.shift();return a==null&&(a=''),b.join(a);},lines:function(a){return a==null?[]:c(a).split('\n');},reverse:function(a){return d.chars(a).reverse().join('');},startsWith:function(b,a){return a===''?!0:b==null||a==null?!1:(b=c(b),a=c(a),b.length>=a.length&&b.slice(0,a.length)===a);},endsWith:function(b,a){return a===''?!0:b==null||a==null?!1:(b=c(b),a=c(a),b.length>=a.length&&b.slice(b.length-a.length)===a);},succ:function(a){return a==null?'':(a=c(a),a.slice(0,-1)+c.fromCharCode(a.charCodeAt(a.length-1)+1));},titleize:function(a){return a==null?'':c(a).replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase();});},camelize:function(a){return d.trim(a).replace(/[-_\s]+(.)?/g,function(b,a){return a.toUpperCase();});},underscored:function(a){return d.trim(a).replace(/([a-z\d])([A-Z]+)/g,'$1_$2').replace(/[-\s]+/g,'_').toLowerCase();},dasherize:function(a){return d.trim(a).replace(/([A-Z])/g,'-$1').replace(/[-_\s]+/g,'-').toLowerCase();},classify:function(a){return d.titleize(c(a).replace(/[\W_]/g,' ')).replace(/\s/g,'');},humanize:function(a){return d.capitalize(d.underscored(a).replace(/_id$/,'').replace(/_/g,' '));},trim:function(b,a){return b==null?'':!a&&p?p.call(b):(a=f(a),c(b).replace(new RegExp('^'+a+'+|'+a+'+$','g'),''));},ltrim:function(b,a){return b==null?'':!a&&m?m.call(b):(a=f(a),c(b).replace(new RegExp('^'+a+'+'),''));},rtrim:function(b,a){return b==null?'':!a&&l?l.call(b):(a=f(a),c(b).replace(new RegExp(a+'+$'),''));},truncate:function(a,b,d){return a==null?'':(a=c(a),d=d||'...',b=~~b,a.length>b?a.slice(0,b)+d:a);},prune:function(b,f,e){if(b==null)return'';b=c(b),f=~~f,e=e!=null?c(e):'...';if(b.length<=f)return b;var g=function(a){return a.toUpperCase()!==a.toLowerCase()?'A':' ';},a=b.slice(0,f+1).replace(/.(?=\W*\w*$)/g,g);return a.slice(a.length-2).match(/\w\w/)?a=a.replace(/\s*\S+$/,''):a=d.rtrim(a.slice(0,a.length-1)),(a+e).length>b.length?b:b.slice(0,a.length)+e;},words:function(a,b){return d.isBlank(a)?[]:d.trim(a,b).split(b||/\s+/);},pad:function(a,f,b,g){a=a==null?'':c(a),f=~~f;var d=0;b?b.length>1&&(b=b.charAt(0)):b=' ';switch(g){case'right':d=f-a.length;return a+e(b,d);case'both':d=f-a.length;return e(b,Math.ceil(d/2))+a+e(b,Math.floor(d/2));default:d=f-a.length;return e(b,d)+a;}},lpad:function(a,b,c){return d.pad(a,b,c);},rpad:function(a,b,c){return d.pad(a,b,c,'right');},lrpad:function(a,b,c){return d.pad(a,b,c,'both');},sprintf:h,vsprintf:function(b,a){return a.unshift(b),h.apply(null,a);},toNumber:function(a,b){return a?(a=d.trim(a),a.match(/^-?\d+(?:\.\d+)?$/)?n(n(a).toFixed(~~b)):NaN):0;},numberFormat:function(a,f,g,b){if(isNaN(a)||a==null)return'';a=a.toFixed(~~f),b=typeof b=='string'?b:',';var c=a.split('.'),d=c[0],e=c[1]?(g||'.')+c[1]:'';return d.replace(/(\d)(?=(?:\d{3})+$)/g,'$1'+b)+e;},strRight:function(a,b){if(a==null)return'';a=c(a),b=b!=null?c(b):b;var d=b?a.indexOf(b):-1;return~d?a.slice(d+b.length,a.length):a;},strRightBack:function(a,b){if(a==null)return'';a=c(a),b=b!=null?c(b):b;var d=b?a.lastIndexOf(b):-1;return~d?a.slice(d+b.length,a.length):a;},strLeft:function(a,b){if(a==null)return'';a=c(a),b=b!=null?c(b):b;var d=b?a.indexOf(b):-1;return~d?a.slice(0,d):a;},strLeftBack:function(a,b){if(a==null)return'';a+='',b=b!=null?''+b:b;var c=a.lastIndexOf(b);return~c?a.slice(0,c):a;},toSentence:function(f,b,a,g){b=b||', ',a=a||' and ';var c=f.slice(),e=c.pop();return f.length>2&&g&&(a=d.rtrim(b)+a),c.length?c.join(b)+a+e:e;},toSentenceSerial:function(){var a=k.call(arguments);return a[3]=!0,d.toSentence.apply(d,a);},slugify:function(a){if(a==null)return'';var b='ąàáäâãåæćęèéëêìíïîłńòóöôõøùúüûñçżź',e='aaaaaaaaceeeeeiiiilnoooooouuuunczz',g=new RegExp(f(b),'g');return a=c(a).toLowerCase().replace(g,function(c){var a=b.indexOf(c);return e.charAt(a)||'-';}),d.dasherize(a.replace(/[^\w\s-]/g,''));},surround:function(b,a){return[a,b,a].join('');},quote:function(a){return d.surround(a,'"');},exports:function(){var b={};for(var a in this){if(!this.hasOwnProperty(a)||a.match(/^(?:include|contains|reverse)$/))continue;b[a]=this[a];}return b;},repeat:function(b,a,f){if(b==null)return'';a=~~a;if(f==null)return e(c(b),a);for(var d=[];a>0;d[--a]=b);return d.join(f);},levenshtein:function(b,d){if(b==null&&d==null)return 0;if(b==null)return c(d).length;if(d==null)return c(b).length;b=c(b),d=c(d);var e=[],h,g;for(var f=0;f<=d.length;f++)for(var a=0;a<=b.length;a++)f&&a?b.charAt(a-1)===d.charAt(f-1)?g=h:g=Math.min(e[a],e[a-1],h)+1:g=f+a,h=e[a],e[a]=g;return e.pop();}},d.strip=d.trim,d.lstrip=d.ltrim,d.rstrip=d.rtrim,d.center=d.lrpad,d.rjust=d.lpad,d.ljust=d.rpad,d.contains=d.include,d.q=d.quote,b!==void 0&&(a!==void 0&&a.exports&&(a.exports=d),b._s=d),typeof define==='function'&&define.amd&&define('underscore.string',[],function(){return d;}),i._=i._||{},i._.string=i._.str=d;}(this,String));}),function(a){_s=require('underscore.string'),delete _s.VERSION,a.ext(_s);}(Core),function(a,b,c,d){b=a.noop,a.asyncEach=function(f,i,c){c=c||b;var d,g=a.isArray(f)?f:a.values(f),e=g.length,h=0;if(!e)return c();for(d=0;d<e;d++)i(g[d],function(a){a?(c(a),c=b):++h===e&&c();});},a.syncEach=function(d,i,c){c=c||b;var g,e=a.isArray(d)?d:a.values(d),h=e.length,f=0;(g=function(){i(e[f],function(a){a?(c(a),c=b):++f===h?c():g();});})();},c=a.asyncMap=function(e,g,c){c=c||b;var f=0,d=a.isArray(e)?[]:{};if(a.isEmpty(e))return c(null,d);a.each(e,function(a,e){f++,g(a,function(a,g){a?(c(a,d),c=b):(d[e]=g,--f===0&&c(null,d));});});},d=a.syncMap=function(h,j,c){c=c||b;var i,d,g,e=0,f=a.isArray(h)?[]:{};d=a.map(h,function(a,b){return{key:b,val:a};}),g=d.length;if(!g)return c(null,f);(i=function(){j(d[e].val,function(a,h){a?(c(a),c=b):(f[d[e].key]=h,++e===g?c(null,f):i());});})();},a.parallel=function(b,d){c(b,function(b,c){b(function(d){var b=a.slice.call(arguments,1);b.length<=1&&(b=b[0]),c.call(null,d,b);});},d);},a.series=function(b,c){d(b,function(b,c){b(function(d){var b=a.slice.call(arguments,1);b.length<=1&&(b=b[0]),c.call(null,d,b);});},c);},a.chain=function(){var c,d=[],e=b;if(arguments.length===3)d=a.isArray(arguments[0])?arguments[0]:[arguments[0]],c=arguments[1],e=arguments[2];else if(arguments.length===2)a.isArray(arguments[1])?(d=a.isArray(arguments[0])?arguments[0]:[arguments[0]],c=arguments[1]):(c=arguments[0],e=arguments[1]);else if(arguments.length===1)d=[],c=arguments[0],e=b;else return!1;var g,h,f=0;c=a.map(c,function(a,b){return{key:b,task:a};}),h=c.length,(g=function(){if(++f>h)return;var b=a.slice.call(arguments);try{c[f-1].task.apply(this,b.concat([g]));}catch(a){e(a);}}).apply(this,d);};}(Core),function(a){function b(f){var e={platform:{},browser:{},engine:{}};var a=f,d=e.platform,b=e.browser,c=e.engine;return/Windows/.test(a)?(d.name='win',d.win=!0):/Mac/.test(a)?(d.name='mac',d.mac=!0):/Linux/.test(a)?(d.name='linux',d.linux=!0):/iPhone|iPod/.test(a)?(d.name='iphone',d.iphone=!0):/iPad/.test(a)?(d.name='ipad',d.ipad=!0):/Android/.test(a)?(d.name='android',d.android=!0):(d.name='other',d.unknown=!0),/MSIE/.test(a)?(b.name='msie',b.msie=!0):/Firefox/.test(a)?(b.name='firefox',b.firefox=!0):/Chrome/.test(a)?(b.name='chrome',b.chrome=!0):/Safari/.test(a)?(b.name='safari',b.safari=!0):/Opera/.test(a)?(b.name='opera',b.opera=!0):(b.name='other',b.unknown=!0),b.msie?b.version=/MSIE (\d+(\.\d+)*)/.exec(a)[1]:b.firefox?b.version=/Firefox\/(\d+(\.\d+)*)/.exec(a)[1]:b.chrome?b.version=/Chrome\/(\d+(\.\d+)*)/.exec(a)[1]:b.safari?b.version=/Version\/(\d+(\.\d+)*)/.exec(a)[1]:b.opera?b.version=/Version\/(\d+(\.\d+)*)/.exec(a)[1]:b.version=0,/Trident/.test(a)||b.msie?(c.name='trident',c.trident=!0):/WebKit/.test(a)?(c.name='webkit',c.webkit=!0):/Gecko/.test(a)?(c.name='gecko',c.gecko=!0):/Presto/.test(a)?(c.name='presto',c.presto=!0):(c.name='other',c.unknown=!0),c.trident?c.version=/Trident/.test(a)?/Trident\/(\d+(\.\d+)*)/.exec(a)[1]:0:c.gecko?c.version=/rv:(\d+(\.\d+)*)/.exec(a)[1]:c.webkit?c.version=/WebKit\/(\d+(\.\d+)*)/.exec(a)[1]:c.presto?c.version=/Presto\/(\d+(\.\d+)*)/.exec(a)[1]:c.version=0,e;}a=a.ext(b(navigator.userAgent));}(Core),function(a,b){a.guid=function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var a=Math.random()*16|0,b=c==='x'?a:a&3|8;return b.toString(16);}).toUpperCase();},b=0,a.uniqId=function(c){var a=b++;return c?c+a:a;},a.noop=function(){},a.identity=function(a){return a;},a.max=function(a,e){if(arguments>2){var a=arguments,c=-Infinity,b,d=a.length;for(b=0;b<d;b++)a[b]>c&&(c=a[b]);return c;}return Math.max(a,e);},a.min=function(a,e){if(arguments>2){var a=arguments,c=Infinity,b,d=a.length;for(b=0;b<d;b++)a[b]<c&&(c=a[b]);return c;}return Math.min(a,e);};}(Core),$.ns(['bonzo'],function(a,b){(function(d,b,c){a!==void 0&&a.exports?a.exports=c():typeof b.define=='function'&&b.define.amd?define(c):b[d]=c();}('bonzo',this,function(){function E(a){return a&&a.nodeName&&(a.nodeType==1||a.nodeType==11);}function i(b,f,g){var c,e,d;if(typeof b=='string')return a.create(b);E(b)&&(b=[b]);if(g){for(d=[],c=0,e=b.length;c<e;c++)d[c]=V(f,b[c]);return d;}return b;}function O(a){return new RegExp('(^|\\s+)'+a+'(\\s+|$)');}function c(a,e,f,g){var c,b=0,d=a.length;for(;b<d;b++)c=g?a.length-b-1:b,e.call(f||a[c],a[c],c,a);return a;}function G(b,c,d){for(var a=0,e=b.length;a<e;a++)E(b[a])&&(G(b[a].childNodes,c,d),c.call(d||b[a],b[a],a,b));return b;}function T(a){return a.replace(/-(.)/g,function(b,a){return a.toUpperCase();});}function a0(a){return a?a.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase():a;}function J(a){a[j]('data-node-uid')||a[C]('data-node-uid',++P);var b=a[j]('data-node-uid');return s[b]||(s[b]={});}function K(b){var a=b[j]('data-node-uid');a&&delete s[a];}function L(a){var b;try{return a===null||a===undefined?undefined:a==='true'?!0:a==='false'?!1:a==='null'?null:(b=parseFloat(a))==a?b:a;}catch(a){}return undefined;}function M(b,d,e){for(var a=0,c=b.length;a<c;++a)if(d.call(e||null,b[a],a,b))return!0;return!1;}function N(a){return a=='transform'&&(a=f.transform)||/^transform-?[Oo]rigin$/.test(a)&&(a=f.transform+'Origin')||a=='float'&&(a=f.cssFloat),a?T(a):null;}function v(b,h,j,e){var d=0,a=h||this,f=[],g=t&&typeof b=='string'&&b.charAt(0)!='<'?t(b):b;return c(i(g),function(b,g){c(a,function(c){j(b,f[d++]=g>0?V(a,c):c);},null,e);},this,e),a.length=d,c(f,function(b){a[--d]=b;},null,!e),a;}function S(d,i,j){var c=a(d),e=c.css('position'),g=c.offset(),f='relative',h=e==f,b=[parseInt(c.css('left'),10),parseInt(c.css('top'),10)];e=='static'&&(c.css('position',f),e=f),isNaN(b[0])&&(b[0]=h?0:d.offsetLeft),isNaN(b[1])&&(b[1]=h?0:d.offsetTop),i!=null&&(d.style.left=i-g.left+b[0]+u),j!=null&&(d.style.top=j-g.top+b[1]+u);}function h(b,a){return typeof a=='function'?a(b):a;}function z(a){this.length=0;if(a){a=typeof a!=='string'&&!a.nodeType&&a.length!==void 0?a:[a],this.length=a.length;for(var b=0;b<a.length;b++)this[b]=a[b];}}function V(a,d){var c=d.cloneNode(!0),f,e;if(a.$&&typeof a.cloneEvents=='function'){a.$(c).cloneEvents(d),f=a.$(c).find('*'),e=a.$(d).find('*');for(var b=0;b<e.length;b++)a.$(f[b]).cloneEvents(e[b]);}return c;}function W(b,c,d){var a=this[0];return a?b==null&&c==null?(Y(a)?Z():{x:a.scrollLeft,y:a.scrollTop})[d]:(Y(a)?g.scrollTo(b,c):(b!=null&&(a.scrollLeft=b),c!=null&&(a.scrollTop=c)),this):this;}function Y(a){return a===g||/^(?:body|html)$/i.test(a.tagName);}function Z(){return{x:g.pageXOffset||d.scrollLeft,y:g.pageYOffset||d.scrollTop};}function $(c){var a=document.createElement('script'),b=c.match(B);return a.src=b[1],a;}function a(a){return new z(a);}var g=window,b=g.document,d=b.documentElement,e='parentNode',x=/^(checked|value|selected|disabled)$/i,H=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,B=/\s*<script +src=['"]([^'"]+)['"]>/,m=['<table>','</table>',1],y=['<table><tbody><tr>','</tr></tbody></table>',3],A=['<select>','</select>',1],l=['_','',0,1],I={thead:m,tbody:m,tfoot:m,colgroup:m,caption:m,tr:['<table><tbody>','</tbody></table>',2],th:y,td:y,col:['<table><colgroup>','</colgroup></table>',2],fieldset:['<form>','</form>',1],legend:['<form><fieldset>','</fieldset></form>',2],option:A,optgroup:A,script:l,style:l,link:l,param:l,base:l},D=/^(checked|selected|disabled)$/,p=/msie/i.test(navigator.userAgent),k,r,q,s={},P=0,Q=/^-?[\d\.]+$/,R=/^data-(.+)$/,u='px',C='setAttribute',j='getAttribute',w='getElementsByTagName',f=function(a){return a=b.createElement('p'),a.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:a[w]('a')[0][j]('href')!='#x',autoTbody:a[w]('tbody').length!==0,computedStyle:b.defaultView&&b.defaultView.getComputedStyle,cssFloat:a[w]('table')[0].style.styleFloat?'styleFloat':'cssFloat',transform:function(c,b){for(c=['transform','webkitTransform','MozTransform','OTransform','msTransform'],b=0;b<c.length;b++)if(c[b]in a.style)return c[b];}(),classList:'classList'in a,opasity:function(){return b.createElement('a').style.opacity!==void 0;}()};}(),X=/(^\s*|\s*$)/g,n=/\s+/,o=String.prototype.toString,_={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},t=b.querySelectorAll&&function(a){return b.querySelectorAll(a);},F=String.prototype.trim?function(a){return a.trim();}:function(a){return a.replace(X,'');};var U=f.computedStyle?function(d,e){var a=null,c=b.defaultView.getComputedStyle(d,'');return c&&(a=c[e]),d.style[e]||a;}:p&&d.currentStyle?function(a,c){if(c=='opacity'&&!f.opasity){var b=100;try{b=a.filters['DXImageTransform.Microsoft.Alpha'].opacity;}catch(c){try{b=a.filters('alpha').opacity;}catch(a){}}return b/100;}var d=a.currentStyle?a.currentStyle[c]:null;return a.style[c]||d;}:function(a,b){return a.style[b];};return f.classList?(k=function(a,b){return a.classList.contains(b);},r=function(a,b){a.classList.add(b);},q=function(a,b){a.classList.remove(b);}):(k=function(a,b){return O(b).test(a.className);},r=function(a,b){a.className=F(a.className+' '+b);},q=function(a,b){a.className=F(a.className.replace(O(b),' '));}),z.prototype={get:function(a){return this[a]||null;},each:function(a,b){return c(this,a,b);},deepEach:function(a,b){return G(this,a,b);},map:function(e,d){var b=[],c,a;for(a=0;a<this.length;a++)c=e.call(this,this[a],a),d?d(c)&&b.push(c):b.push(c);return b;},html:function(a,e){var b=e?d.textContent===undefined?'innerText':'textContent':'innerHTML',f=this,g=function(b,d){c(i(a,f,d),function(a){b.appendChild(a);});},h=function(c,d){try{if(e||typeof a=='string'&&!H.test(c.tagName))return c[b]=a;}catch(a){}g(c,d);};return a!==void 0?this.empty().each(h):this[0]?this[0][b]:'';},text:function(a){return this.html(a,!0);},append:function(b){var a=this;return this.each(function(d,e){c(i(b,a,e),function(a){d.appendChild(a);});});},prepend:function(b){var a=this;return this.each(function(d,f){var e=d.firstChild;c(i(b,a,f),function(a){d.insertBefore(a,e);});});},appendTo:function(a,b){return v.call(this,a,b,function(a,b){a.appendChild(b);});},prependTo:function(a,b){return v.call(this,a,b,function(a,b){a.insertBefore(b,a.firstChild);},1);},before:function(b){var a=this;return this.each(function(d,f){c(i(b,a,f),function(a){d[e].insertBefore(a,d);});});},after:function(b){var a=this;return this.each(function(d,f){c(i(b,a,f),function(a){d[e].insertBefore(a,d.nextSibling);},null,1);});},insertBefore:function(a,b){return v.call(this,a,b,function(a,b){a[e].insertBefore(b,a);});},insertAfter:function(a,b){return v.call(this,a,b,function(a,c){var b=a.nextSibling;b?a[e].insertBefore(c,b):a[e].appendChild(c);},1);},replaceWith:function(b){return a(i(b)).insertAfter(this),this.remove();},addClass:function(a){return a=o.call(a).split(n),this.each(function(b){c(a,function(a){a&&!k(b,h(b,a))&&r(b,h(b,a));});});},removeClass:function(a){return a=o.call(a).split(n),this.each(function(b){c(a,function(a){a&&k(b,h(b,a))&&q(b,h(b,a));});});},hasClass:function(a){return a=o.call(a).split(n),M(this,function(b){return M(a,function(a){return a&&k(b,a);});});},toggleClass:function(a,b){return a=o.call(a).split(n),this.each(function(d){c(a,function(a){a&&(b!==void 0?b?r(d,a):q(d,a):k(d,a)?q(d,a):r(d,a));});});},show:function(a){return a=typeof a=='string'?a:'',this.each(function(b){b.style.display=a;});},hide:function(){return this.each(function(a){a.style.display='none';});},toggle:function(a,b){return b=typeof b=='string'?b:'',typeof a!='function'&&(a=null),this.each(function(c){c.style.display=c.offsetWidth||c.offsetHeight?'none':b,a&&a.call(c);});},first:function(){return a(this.length?this[0]:[]);},last:function(){return a(this.length?this[this.length-1]:[]);},next:function(){return this.related('nextSibling');},previous:function(){return this.related('previousSibling');},parent:function(){return this.related(e);},related:function(a){return this.map(function(b){b=b[a];while(b&&b.nodeType!==1)b=b[a];return b||0;},function(a){return a;});},focus:function(){return this.length&&this[0].focus(),this;},blur:function(){return this.length&&this[0].blur(),this;},css:function(d,e){function i(e,d,a){for(var b in c)if(c.hasOwnProperty(b)){a=c[b],(d=N(b))&&Q.test(a)&&!(d in _)&&(a+=u);try{e.style[d]=h(e,a);}catch(a){}}}var f,c=d;return e===undefined&&typeof d=='string'?(e=this[0],e?e===b||e===g?(f=e===b?a.doc():a.viewport(),d=='width'?f.width:d=='height'?f.height:''):(d=N(d))?U(e,d):null:null):(typeof d=='string'&&(c={},c[d]=e),p&&c.opacity&&(c.filter='alpha(opacity='+c.opacity*100+')',c.zoom=d.zoom||1,delete c.opacity),this.each(i));},offset:function(a,h){if(a&&typeof a=='object'&&(typeof a.top=='number'||typeof a.left=='number'))return this.each(function(b){S(b,a.left,a.top);});if(typeof a=='number'||typeof h=='number')return this.each(function(b){S(b,a,h);});if(!this[0])return{top:0,left:0,height:0,width:0};var c=this[0],d=c.ownerDocument.documentElement,e=c.getBoundingClientRect(),f=Z(),i=c.offsetWidth,j=c.offsetHeight,k=e.top+f.y-Math.max(0,d&&d.clientTop,b.body.clientTop),g=e.left+f.x-Math.max(0,d&&d.clientLeft,b.body.clientLeft);return{top:k,left:g,height:j,width:i};},dim:function(){if(!this.length)return{height:0,width:0};var a=this[0],b=a.nodeType==9&&a.documentElement,c=b||!a.style||a.offsetWidth||a.offsetHeight?null:function(c,b){return b={position:a.style.position||'',visibility:a.style.visibility||'',display:a.style.display||''},c.first().css({position:'absolute',visibility:'hidden',display:'block'}),b;}(this),d=b?Math.max(a.body.scrollWidth,a.body.offsetWidth,b.scrollWidth,b.offsetWidth,b.clientWidth):a.offsetWidth,e=b?Math.max(a.body.scrollHeight,a.body.offsetHeight,b.scrollWidth,b.offsetWidth,b.clientHeight):a.offsetHeight;return c&&this.first().css(c),{height:e,width:d};},attr:function(a,d){var b=this[0];if(typeof a!='string'&&!(a instanceof String)){for(var c in a)a.hasOwnProperty(c)&&this.attr(c,a[c]);return this;}return d===void 0?b?x.test(a)?D.test(a)&&typeof b[a]=='string'?!0:b[a]:(a=='href'||a=='src')&&f.hrefExtended?b[j](a,2):b[j](a):null:this.each(function(b){x.test(a)?b[a]=h(b,d):b[C](a,h(b,d));});},removeAttr:function(a){return this.each(function(b){D.test(a)?b[a]=!1:b.removeAttribute(a);});},val:function(a){return typeof a=='string'?this.attr('value',a):this.length?this[0].value:null;},data:function(a,e){var d=this[0],b,f;return e===void 0?d?(b=J(d),a===void 0?(c(d.attributes,function(a){(f=(''+a.name).match(R))&&(b[T(f[1])]=L(a.value));}),b):(b[a]===void 0&&(b[a]=L(this.attr('data-'+a0(a)))),b[a])):null:this.each(function(b){J(b)[a]=e;});},remove:function(){return this.deepEach(K),this.detach();},empty:function(){return this.each(function(a){G(a.childNodes,K);while(a.firstChild)a.removeChild(a.firstChild);});},detach:function(){return this.each(function(a){a[e]&&a[e].removeChild(a);});},scrollTop:function(a){return W.call(this,null,a,'y');},scrollLeft:function(a){return W.call(this,a,null,'x');}},a.setQueryEngine=function(b){t=b,delete a.setQueryEngine;},a.aug=function(b,c){for(var a in b)b.hasOwnProperty(a)&&((c||z.prototype)[a]=b[a]);},a.create=function(a){return typeof a=='string'&&a!==''?function(h,d,i,g,k,l,j,m){if(B.test(a))return[$(a)];h=a.match(/^\s*<([^\s>]+)/),d=b.createElement('div'),i=[],g=h?I[h[1].toLowerCase()]:null,k=g?g[2]+1:1,l=g&&g[3],j=e,m=f.autoTbody&&g&&g[0]=='<table>'&&!/<tbody/i.test(a),d.innerHTML=g?g[0]+a+g[1]:a;while(k--)d=d.firstChild;l&&d&&d.nodeType!==1&&(d=d.nextSibling);do(!h||d.nodeType==1)&&(!m||d.tagName.toLowerCase()!='tbody')&&i.push(d);while(d=d.nextSibling);return c(i,function(a){a[j]&&a[j].removeChild(a);}),i;}():E(a)?[a.cloneNode(!0)]:[];},a.doc=function(){var c=a.viewport();return{width:Math.max(b.body.scrollWidth,d.scrollWidth,c.width),height:Math.max(b.body.scrollHeight,d.scrollHeight,c.height)};},a.firstChild=function(e){for(var a=e.childNodes,b=0,c=a&&a.length||0,d;b<c;b++)a[b].nodeType===1&&(d=a[c=b]);return d;},a.viewport=function(){return{width:p?d.clientWidth:self.innerWidth,height:p?d.clientHeight:self.innerHeight};},a.isAncestor='compareDocumentPosition'in d?function(a,b){return(a.compareDocumentPosition(b)&16)==16;}:'contains'in d?function(a,b){return a!==b&&a.contains(b);}:function(b,a){while(a=a[e])if(a===b)return!0;return!1;},a;}));}),$.ns(['bean'],function(a,b){(function(b,c,d){a!==void 0&&a.exports?a.exports=d(b,c):typeof define=='function'&&typeof define.amd=='object'?define(d):c[b]=d(b,c);}('bean',this,function(I,J){var d=window,B=J[I],m=/[^\.]*(?=\..*)\.|.*/,k=/\..*/,p='addEventListener',F='removeEventListener',e=document||{},f=e.documentElement||{},c=f[p],g=c?p:'attachEvent',v={},j=Array.prototype.slice,a=function(a,b){return a.split(b||' ');},o=function(a){return typeof a=='string';},A=function(a){return typeof a=='function';},E='click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ',D='show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ',u=function(c,b,a){for(a=0;a<b.length;a++)b[a]&&(c[b[a]]=1);return c;}({},a(E+(c?D:''))),n=function(b,a){return b='compareDocumentPosition'in f?function(b,a){return a.compareDocumentPosition&&(a.compareDocumentPosition(b)&16)===16;}:'contains'in f?function(b,a){return a=a.nodeType===9||a===window?f:a,a!==b&&a.contains(b);}:function(a,b){while(a=a.parentNode)if(a===b)return 1;return 0;},a=function(c){var a=c.relatedTarget;return a?a!==this&&a.prefix!=='xul'&&!/document/.test(this.toString())&&!b(a,this):a==null;},{mouseenter:{base:'mouseover',condition:a},mouseleave:{base:'mouseout',condition:a},mousewheel:{base:/Firefox/.test(navigator.userAgent)?'DOMMouseScroll':'mousewheel'}};}(),C=function(c,h,o,p,j,k,l,m,n,g,i,b){return c=a('altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName'),h=c.concat(a('button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement')),o=h.concat(a('wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis')),p=c.concat(a('char charCode key keyCode keyIdentifier keyLocation location')),j=c.concat(a('data')),k=c.concat(a('touches targetTouches changedTouches scale rotation')),l=c.concat(a('data origin source')),m=c.concat(a('state')),n=/over|out/,g=[{reg:/key/i,fix:function(a,b){return b.keyCode=a.keyCode||a.which,p;}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(a,b,c){return b.rightClick=a.which===3||a.button===2,b.pos={x:0,y:0},a.pageX||a.pageY?(b.clientX=a.pageX,b.clientY=a.pageY):(a.clientX||a.clientY)&&(b.clientX=a.clientX+e.body.scrollLeft+f.scrollLeft,b.clientY=a.clientY+e.body.scrollTop+f.scrollTop),n.test(c)&&(b.relatedTarget=a.relatedTarget||a[c=='mouseover'?'fromElement':'toElement']),h;}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return o;}},{reg:/^text/i,fix:function(){return j;}},{reg:/^touch|^gesture/i,fix:function(){return k;}},{reg:/^message$/i,fix:function(){return l;}},{reg:/^popstate$/i,fix:function(){return m;}},{reg:/.*/,fix:function(){return c;}}],i={},b=function(a,j,l){if(!arguments.length)return;a=a||((j.ownerDocument||j.document||j).parentWindow||d).event,this.originalEvent=a,this.isNative=l,this.isBean=!0;if(!a)return;var e=a.type,c=a.target||a.srcElement,b,m,f,k,h;this.target=c&&c.nodeType===3?c.parentNode:c;if(l){h=i[e];if(!h)for(b=0,m=g.length;b<m;b++)if(g[b].reg.test(e)){i[e]=h=g[b].fix;break;}for(k=h(a,this,e),b=k.length;b--;)!((f=k[b])in this)&&f in a&&(this[f]=a[f]);}},b.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1;},b.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0;},b.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0;},b.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0;};},b.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped();},b.prototype.clone=function(c){var a=new b(this,this.element,this.isNative);return a.currentTarget=c,a;},b;}(),x=function(a,b){return!(c||b)&&(a===e||a===d)?f:a;},y=function(b,a){return b=function(e,a,f,g){var b=function(c,b){return a.apply(e,g?j.call(b,c?0:1).concat(g):b);},c=function(b,c){return a.__beanDel?a.__beanDel.ft(b.target,e):c;},d=f?function(a){var d=c(a,this);return f.apply(d,arguments)?(a&&(a.currentTarget=d),b(a,arguments)):void 0;}:function(d){return a.__beanDel&&(d=d.clone(c(d))),b(d,arguments);};return d.__beanDel=a.__beanDel,d;},a=function(d,a,e,i,k,j,l){var f=n[a],h;a=='unload'&&(e=s(q,d,a,e,i)),f&&(f.condition&&(e=b(d,e,f.condition,j)),a=f.base||a),this.isNative=h=u[a]&&!!d[g],this.customType=!c&&!h&&a,this.element=d,this.type=a,this.original=i,this.namespaces=k,this.eventType=c||h?a:'propertychange',this.target=x(d,h),this[g]=!!this.target[g],this.root=l,this.handler=b(d,e,null,j);},a.prototype.inNamespaces=function(a){var b,c,d=0;if(!a)return!0;if(!this.namespaces)return!1;for(b=a.length;b--;)for(c=this.namespaces.length;c--;)a[b]==this.namespaces[c]&&d++;return a.length===d;},a.prototype.matches=function(c,a,b){return this.element===c&&(!a||this.original===a)&&(!b||this.handler===b);},a;}(),b=function(a,b,c,d,e,f,g){return a={},b=function(f,e,j,k,l,i){var g=l?'r':'$';if(!e||e=='*')for(var h in a)h.charAt(0)==g&&b(f,h.substr(1),j,k,l,i);else{var c=0,m,d=a[g+e],n=f=='*';if(!d)return;for(m=d.length;c<m;c++)if((n||d[c].matches(f,j,k))&&!i(d[c],d,c,e))return;}},c=function(d,e,f,g){var c,b=a[(g?'r':'$')+e];if(b)for(c=b.length;c--;)if(!b[c].root&&b[c].matches(d,f,null))return!0;return!1;},d=function(c,d,e,f){var a=[];return b(c,d,e,null,f,function(b){return a.push(b);}),a;},e=function(b){var d=!b.root&&!this.has(b.element,b.type,null,!1),c=(b.root?'r':'$')+b.type;return(a[c]||(a[c]=[])).push(b),d;},f=function(c){b(c.element,c.type,null,c.handler,c.root,function(b,c,d){return c.splice(d,1),b.removed=!0,c.length===0&&delete a[(b.root?'r':'$')+b.type],!1;});},g=function(){var c,b=[];for(c in a)c.charAt(0)=='$'&&(b=b.concat(a[c]));return b;},{has:c,get:d,put:e,del:f,entries:g};}(),r,w=function(a){arguments.length?r=a:r=e.querySelectorAll?function(a,b){return b.querySelectorAll(a);}:function(){throw new Error('Bean: No selector engine installed');};},l=function(a,d){if(!c&&d&&a&&a.propertyName!='_on'+d)return;var f=b.get(this,d||a.type,null,!1),g=f.length,e=0;for(a=new C(a,this,!0),d&&(a.type=d);e<g&&!a.isImmediatePropagationStopped();e++)f[e].removed||f[e].handler.call(this,a);},t=c?function(a,b,c){a[c?p:F](b,l,!1);}:function(d,e,f,c){var a;f?(b.put(a=new y(d,c||e,function(a){l.call(d,a,c);},l,null,null,!0)),c&&d['_on'+c]==null&&(d['_on'+c]=0),a.target.attachEvent('on'+a.eventType,a.handler)):(a=b.get(d,c||e,l,!0)[0],a&&(a.target.detachEvent('on'+a.eventType,a.handler),b.del(a)));},s=function(a,b,c,d,e){return function(){d.apply(this,arguments),a(b,c,e);};},q=function(e,f,h,l){var i=f&&f.replace(k,''),c=b.get(e,i,null,!1),d={},a,j;for(a=0,j=c.length;a<j;a++)(!h||c[a].original===h)&&c[a].inNamespaces(l)&&(b.del(c[a]),!d[c[a].eventType]&&c[a][g]&&(d[c[a].eventType]={t:c[a].eventType,c:c[a].type}));for(a in d)b.has(e,d[a].t,null,!1)||t(e,d[a].t,!1,d[a].c);},G=function(a,d){var b=function(b,e){var c,d=o(a)?r(a,e):a;for(;b&&b!==e;b=b.parentNode)for(c=d.length;c--;)if(d[c]===b)return b;},c=function(c){var a=b(c.target,this);a&&d.apply(a,arguments);};return c.__beanDel={ft:b,selector:a},c;},H=c?function(b,c,f){var a=e.createEvent(b?'HTMLEvents':'UIEvents');a[b?'initEvent':'initUIEvent'](c,!0,!0,d,1),f.dispatchEvent(a);}:function(b,c,a){a=x(a,b),b?a.fireEvent('on'+c,e.createEventObject()):a['_on'+c]++;},h=function(c,b,j){var e=o(b),f,d,g,i;if(e&&b.indexOf(' ')>0){for(b=a(b),i=b.length;i--;)h(c,b[i],j);return c;}d=e&&b.replace(k,''),d&&n[d]&&(d=n[d].base);if(!b||e)(g=e&&b.replace(m,''))&&(g=a(g,'.')),q(c,d,j,g);else if(A(b))q(c,null,b);else for(f in b)b.hasOwnProperty(f)&&h(c,f,b[f]);return c;},i=function(f,c,n,d){var e,l,o,p,u,q,w;if(n===undefined&&typeof c=='object'){for(l in c)c.hasOwnProperty(l)&&i.call(this,f,l,c[l]);return;}for(A(n)?(u=j.call(arguments,3),d=e=n):(e=d,u=j.call(arguments,4),d=G(n,e,r)),o=a(c),this===v&&(d=s(h,f,c,d,e)),p=o.length;p--;)w=b.put(q=new y(f,o[p].replace(k,''),d,e,a(o[p].replace(m,''),'.'),u,!1)),q[g]&&w&&t(f,q.eventType,!0,q.customType);return f;},K=function(b,c,a,d){return i.apply(null,o(a)?[b,a,c,d].concat(arguments.length>3?j.call(arguments,5):[]):j.call(arguments));},L=function(){return i.apply(v,arguments);},M=function(c,d,h){var i=a(d),j,e,n,f,l;for(j=i.length;j--;){d=i[j].replace(k,''),(f=i[j].replace(m,''))&&(f=a(f,'.'));if(!(f||h)&&c[g])H(u[d],d,c);else for(l=b.get(c,d,null,!1),h=[!1].concat(h),e=0,n=l.length;e<n;e++)l[e].inNamespaces(f)&&l[e].handler.apply(c,h);}return c;},N=function(e,h,j){var c=b.get(h,j,null,!1),f=c.length,a=0,d,g;for(;a<f;a++)c[a].original&&(d=[e,c[a].type],(g=c[a].handler.__beanDel)&&d.push(g.selector),d.push(c[a].original),i.apply(null,d));return e;},O={on:i,add:K,one:L,off:h,remove:h,clone:N,fire:M,setSelectorEngine:w,noConflict:function(){return J[I]=B,this;}};if(d.attachEvent){var z=function(){var c,a=b.entries();for(c in a)a[c].type&&a[c].type!=='unload'&&h(a[c].element,a[c].type);d.detachEvent('onunload',z),d.CollectGarbage&&d.CollectGarbage();};d.attachEvent('onunload',z);}return w(),O;}));}),$.ns(['qwery'],function(a,b){(function(d,b,c){a!==void 0&&a.exports?a.exports=c():typeof b.define=='function'&&b.define.amd?define(c):b[d]=c();}('qwery',this,function(){function h(){this.c={};}function U(a){return B.g(a)||B.s(a,'(^|\\s+)'+a+'(\\s+|$)',1);}function q(b,d){var a=0,c=b.length;for(;a<c;a++)d(b[a]);}function T(c){for(var a=[],b=0,d=c.length;b<d;++b)n(c[b])?a=a.concat(c[b]):a[a.length]=c[b];return a;}function j(c){var a=0,d=c.length,b=[];for(;a<d;a++)b[a]=c[a];return b;}function Z(b){while(b=b.previousSibling)if(b[a]==1)break;return b;}function E(a){return a.match(V);}function r(r,i,d,l,j,o,n,s,h,q,p){var g,k,e,b,f;if(this[a]!==1)return!1;if(i&&i!=='*'&&this[m]&&this[m].toLowerCase()!==i)return!1;if(d&&(k=d.match(N))&&k[1]!==this.id)return!1;if(d&&(f=d.match($)))for(g=f.length;g--;)if(!U(f[g].slice(1)).test(this.className))return!1;if(h&&c.pseudos[h]&&!c.pseudos[h](this,p))return!1;if(l&&!n){b=this.attributes;for(e in b)if(Object.prototype.hasOwnProperty.call(b,e)&&(b[e].name||e)==j)return this;}return l&&!a4(o,a0(this,j)||'',n)?!1:this;}function f(a){return C.g(a)||C.s(a,a.replace(O,'\\$1'));}function a4(d,c,a){switch(d){case'=':return c==a;case'^=':return c.match(b.g('^='+a)||b.s('^='+a,'^'+f(a),1));case'$=':return c.match(b.g('$='+a)||b.s('$='+a,f(a)+'$',1));case'*=':return c.match(b.g(a)||b.s(a,f(a),1));case'~=':return c.match(b.g('~='+a)||b.s('~='+a,'(?:^|\\s+)'+f(a)+'(?:\\s+|$)',1));case'|=':return c.match(b.g('|='+a)||b.s('|='+a,'^'+f(a)+'(-|$)',1));}return 0;}function a3(j,l){var d=[],h=[],i,t,o,s,n,f,p,b=l,c=g.g(j)||g.s(j,j.split(A)),e=j.match(z);if(!c.length)return d;s=(c=c.slice(0)).pop(),c.length&&(o=c[c.length-1].match(v))&&(b=Y(l,o[1]));if(!b)return d;for(f=E(s),n=b!==l&&b[a]!==9&&e&&/^[+~]$/.test(e[e.length-1])?function(c){while(b=b.nextSibling)b[a]==1&&(f[1]?f[1]==b[m].toLowerCase():1)&&(c[c.length]=b);return c;}([]):b[k](f[1]||'*'),i=0,t=n.length;i<t;i++)(p=r.apply(n[i],f))&&(d[d.length]=p);return c.length?(q(d,function(a){M(a,c,e)&&(h[h.length]=a);}),h):d;}function a2(c,a,f){if(o(a))return c==a;if(n(a))return!!~T(a).indexOf(c);var d=a.split(','),b,e;while(a=d.pop()){b=g.g(a)||g.s(a,a.split(A)),e=a.match(z),b=b.slice(0);if(r.apply(c,E(b.pop()))&&(!b.length||M(c,b,e,f)))return!0;}return!1;}function M(b,c,g,d){function f(e,d,b){while(b=W[g[d]](b,e))if(o(b)&&r.apply(b,E(c[d])))if(d){if(a=f(b,d-1,b))return a;}else return b;}var a;return(a=f(b,c.length-1,b))&&(!d||e(a,d));}function o(b,c){return b&&typeof b==='object'&&(c=b[a])&&(c==1||c==9);}function s(d){var a=[],b,c;o:for(b=0;b<d.length;++b){for(c=0;c<a.length;++c)if(a[c]==d[b])continue o;a[a.length]=d[b];}return a;}function n(a){return typeof a==='object'&&isFinite(a.length);}function a1(b){return b?typeof b=='string'?c(b)[0]:!b[a]&&n(b)?b[0]:b:d;}function Y(b,c,d){return b[a]===9?b.getElementById(c):b.ownerDocument&&((d=b.ownerDocument.getElementById(c))&&e(d,b)&&d||!e(b,b.ownerDocument)&&t('[id="'+c+'"]',b)[0]);}function c(a,d){var c,f,b=a1(d);if(!(b&&a))return[];if(a===window||o(a))return!d||a!==window&&o(b)&&e(a,b)?[a]:[];if(a&&n(a))return T(a);if(c=a.match(S)){if(c[1])return(f=Y(b,c[1]))?[f]:[];if(c[2])return j(b[k](c[2]));if(X&&c[3])return j(b[u](c[3]));}return t(a,b);}function _(b,c){return function(d){var f,e;if(w.test(d)){b[a]!==9&&((e=f=b.getAttribute('id'))||b.setAttribute('id',e='__qwerymeupscotty'),d='[id="'+e+'"]'+d,c(b.parentNode||b,d,!0),f||b.removeAttribute('id'));return;}d.length&&c(b,d,!1);};}var d=document,i=d.documentElement,u='getElementsByClassName',k='getElementsByTagName',l='querySelectorAll',F='useNativeQSA',m='tagName',a='nodeType',t,N=/#([\w\-]+)/,$=/\.[\w\-]+/g,v=/^#([\w\-]+)$/,H=/^\.([\w\-]+)$/,I=/^([\w\-]+)$/,J=/^([\w]+)?\.([\w\-]+)$/,w=/(^|,)\s*[>~+]/,L=/^\s+|\s*([,\s\+\~>]|$)\s*/g,x=/[\s\>\+\~]/,y=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,O=/([.*+?\^=!:${}()|\[\]\/\\])/g,P=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,Q=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,R=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,S=new RegExp(v.source+'|'+I.source+'|'+H.source),z=new RegExp('('+x.source+')'+y.source,'g'),A=new RegExp(x.source+y.source),V=new RegExp(P.source+'('+Q.source+')?'+'('+R.source+')?');var W={' ':function(a){return a&&a!==i&&a.parentNode;},'>':function(a,b){return a&&a.parentNode==b.parentNode&&a.parentNode;},'~':function(a){return a&&a.previousSibling;},'+':function(b,d,a,c){return b?(a=Z(b))&&(c=Z(d))&&a==c&&a:!1;}};h.prototype={g:function(a){return this.c[a]||undefined;},s:function(b,a,c){return a=c?new RegExp(a):a,this.c[b]=a;}};var B=new h(),C=new h(),b=new h(),g=new h();var e='compareDocumentPosition'in i?function(a,b){return(b.compareDocumentPosition(a)&16)==16;}:'contains'in i?function(c,b){return b=b[a]===9||b==window?i:b,b!==c&&b.contains(c);}:function(a,b){while(a=a.parentNode)if(a===b)return 1;return 0;},a0=function(a){return a=d.createElement('p'),(a.innerHTML='<a href="#x">x</a>')&&a.firstChild.getAttribute('href')!='#x'?function(b,a){return a==='class'?b.className:a==='href'||a==='src'?b.getAttribute(a,2):b.getAttribute(a);}:function(a,b){return a.getAttribute(b);};}(),X=!!d[u],K=d.querySelector&&d[l],G=function(d,e){var b=[],f,c;try{return e[a]===9||!w.test(d)?j(e[l](d)):(q(f=d.split(','),_(e,function(a,d){c=a[l](d),c.length==1?b[b.length]=c.item(0):c.length&&(b=b.concat(j(c)));})),f.length>1&&b.length>1?s(b):b);}catch(a){}return p(d,e);},p=function(f,i){var c=[],g,j,b,h,d,l;f=f.replace(L,'$1');if(j=f.match(J)){for(d=U(j[2]),g=i[k](j[1]||'*'),b=0,h=g.length;b<h;b++)d.test(g[b].className)&&(c[c.length]=g[b]);return c;}return q(l=f.split(','),_(i,function(f,g,j){for(d=a3(g,f),b=0,h=d.length;b<h;b++)(f[a]===9||j||e(d[b],i))&&(c[c.length]=d[b]);})),l.length>1&&c.length>1?s(c):c;},D=function(a){a[F]!==void 0&&(t=a[F]?K?G:p:p);};return D({useNativeQSA:!0}),c.configure=D,c.uniq=s,c.is=a2,c.pseudos={},c;}));}),$.ns(['ready'],function(a,b){(function(c,b){a!==void 0?a.exports=b():typeof define=='function'&&typeof define.amd=='object'?define(b):this[c]=b();}('domready',function(l){function m(a){b=1;while(a=c.shift())a();}var c=[],d,f=!1,a=document,g=a.documentElement,i=g.doScroll,j='DOMContentLoaded',k='addEventListener',h='onreadystatechange',e='readyState',b=/^loade|c/.test(a[e]);return a[k]&&a[k](j,d=function(){a.removeEventListener(j,d,f),m();},f),i&&a.attachEvent(h,d=function(){/^c/.test(a[e])&&(a.detachEvent(h,d),m());}),l=i?function(a){self!=top?b?a():c.push(a):function(){try{g.doScroll('left');}catch(b){return setTimeout(function(){l(a);},50);}a();}();}:function(a){b?a():c.push(a);};}));}),function(a,f,c,j,h,q,o,d,g,e,l,m,i,k){function r(b,c){for(var a=0;a<b.length;a++)if(b[a]===c)return a;return-1;}function n(g){var a=[],c=0,f=0,b,d,e;for(;d=g[c];++c){for(e=!1,b=0;b<a.length;++b)if(a[b]===d){e=!0;break;}e||(a[f++]=d);}return a;}function p(a,b){return b===void 0?c(this).dim()[a]:this.css(a,b);}function b(){return b.constructor.apply(this,arguments);}for(f=require('qwery'),c=require('bonzo'),j=require('ready'),h=require('bean'),q=/^\s*</,o=[1,9,11],b.fn=a.extend({},c(),{parents:function(g,h){if(!this.length)return this;var e=a(g),c,f,b,d=[];for(c=0,f=this.length;c<f;c++){b=this[c];while(b=b.parentNode)if(~r(e,b)){d.push(b);if(h)break;}}return a(n(d));},parent:function(){return a(n(c(this).parent()));},closest:function(a){return this.parents(a,!0);},first:function(){return a(this.length?this[0]:this);},last:function(){return a(this.length?this[this.length-1]:[]);},next:function(){return a(c(this).next());},previous:function(){return a(c(this).previous());},appendTo:function(a){return c(this.selector).appendTo(a,this);},prependTo:function(a){return c(this.selector).prependTo(a,this);},insertAfter:function(a){return c(this.selector).insertAfter(a,this);},insertBefore:function(a){return c(this.selector).insertBefore(a,this);},replaceWith:function(a){return c(this.selector).replaceWith(a,this);},siblings:function(){var c,e,b,d=[];for(c=0,e=this.length;c<e;c++){b=this[c];while(b=b.previousSibling)b.nodeType==1&&d.push(b);b=this[c];while(b=b.nextSibling)b.nodeType==1&&d.push(b);}return a(d);},children:function(){var d,f,b,e=[];for(d=0,f=this.length;d<f;d++){if(!(b=c.firstChild(this[d])))continue;e.push(b);while(b=b.nextSibling)b.nodeType==1&&e.push(b);}return a(n(e));},height:function(a){return p.call(this,'height',a);},width:function(a){return p.call(this,'width',a);},find:function(i){var d=[],b,g,c,h,e;for(b=0,g=this.length;b<g;b++)for(e=f(i,this[b]),c=0,h=e.length;c<h;c++)d.push(e[c]);return a(f.uniq(d));},and:function(f){var b=a(f);for(var c=this.length,d=0,e=this.length+b.length;c<e;c++,d++)this[c]=b[d];return this.length+=b.length,this;},is:function(c,d){var a,b;for(a=0,b=this.length;a<b;a++)if(f.is(this[a],c,d))return!0;return!1;}}),d=function(a,b,d){var c=b?[b]:[];return function(){for(var d=0,e=this.length;d<e;d++)!arguments.length&&a=='add'&&b&&(a='fire'),h[a].apply(this,[this[d]].concat(c,Array.prototype.slice.call(arguments,0)));return this;};},g=d('add'),e=d('remove'),l=d('fire'),m={on:g,addListener:g,bind:g,listen:g,delegate:g,one:d('one'),off:e,unbind:e,unlisten:e,removeListener:e,undelegate:e,emit:l,trigger:l,cloneEvents:d('clone'),hover:function(b,c,a){for(a=this.length;a--;)h.add.call(this,this[a],'mouseenter',b),h.add.call(this,this[a],'mouseleave',c);return this;}},i='blur change click dblclick error focus focusin focusout keydown keypress keyup load mousedown mouseenter mouseleave mouseout mouseover mouseup mousemove resize scroll select submit unload'.split(' '),k=i.length;k--;)m[i[k]]=d('add',i[k]);b.fn=a.extend(b.fn,m),a.domReady=j,b.fn=a.extend(b.fn,{ready:function(a){return j(a),this;}}),b.$=function(d,g){if(!d)return b();if(g!==undefined)return b(f(d,g),d);else if(a.isFunction(d))return j(d);else if(d instanceof b)return d;else{var e;return a.isArray(d)?e=a.compact(d):o.indexOf(d.nodeType)>=0||d===window?(e=[d],d=null):q.test(d)?(e=c.create(d,g),d=null):d.nodeType&&d.nodeType==3?e=[d]:e=f(d),b(e,d);}},b.constructor=function(a,c){return a=a||[],a.__proto__=b.prototype,a.selector=c||'',a;},b.prototype=b.fn,a.Dom=b,a.constructor=b.$,c.setQueryEngine(b.$),h.setSelectorEngine(b.$);}(Core);